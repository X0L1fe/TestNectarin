# Каталог автомобилей

Это тестовое задание предоставляет инструменты для анализа каталога автомобилей, представленного в формате XML. Программа позволяет скачивать файл с сервера и отвечать на различные вопросы о данных.

---

## Установка

1. Убедитесь, что у вас установлен Python 3.10 или выше.
2. Скачайте репозиторий с проектом.
3. Установите зависимости, выполнив команду:

   ```bash
   pip install -r requirements.txt
   ```
---
## Использование

Запустите программу с помощью команды:

```bash
python task.py
```

После запуска откроется первичное меню с выбором:

1. **Выбрать пункт меню**: Скачивает файл `cars.xml` с сервера.
2. **Запустить тесты**: Показывает общее количество автомобилей в каталоге.

Если выбрать `[1] Выбрать пункт меню` откроется меню с доступными опциями:

1. **Скачать XML-файл**: Скачивает файл `cars.xml` с сервера.
2. **Посчитать количество автомобилей**: Показывает общее количество автомобилей в каталоге.
3. **Найти среднюю цену автомобилей**: Вычисляет среднюю цену всех автомобилей.
4. **Найти автомобиль Ford 2015 года выпуска**: Показывает количество автомобилей Ford 2015 года.
5. **Найти автомобиль с минимальной ценой Toyota Hilux**: Показывает минимальную цену и год выпуска Toyota Hilux.
6. **Выйти**: Завершает работу программы.

---

## Пример работы

1. Скачайте XML-файл, выбрав пункт меню `1`.
2. Посчитайте количество автомобилей, выбрав пункт меню `2`.
3. Найдите среднюю цену автомобилей, выбрав пункт меню `3`.
4. Найдите автомобили Ford 2015 года, выбрав пункт меню `4`.
5. Найдите минимальную цену Toyota Hilux, выбрав пункт меню `5`.

В случае выбора `[2] Запустить тесты` запустятся тесты с файла `test_task.py`:

---

## **Что тестируется**

Тесты проверяют корректность работы функций, которые анализируют XML-файл с данными об автомобилях. В частности, тестируются следующие функции:

1. **`count_cars`**:
   - Проверяет, что функция корректно подсчитывает количество автомобилей в XML-файле.
   - Ожидаемый результат: количество автомобилей в тестовом файле.

2. **`middle_price`**:
   - Проверяет, что функция корректно вычисляет среднюю цену автомобилей.
   - Ожидаемый результат: средняя цена на основе данных из тестового файла.

3. **`find_Ford`**:
   - Проверяет, что функция корректно находит количество автомобилей марки Ford 2015 года выпуска.
   - Ожидаемый результат: количество Ford 2015 года в тестовом файле.

4. **`min_price_Toyota_Hilux`**:
   - Проверяет, что функция корректно находит автомобиль Toyota Hilux с минимальной ценой и год выпуска.
   - Ожидаемый результат: минимальная цена и год выпуска Toyota Hilux из тестового файла.

---

### **Как запустить тесты**

1. Убедитесь, что у вас установлены все зависимости:
   ```bash
   pip install -r requirements.txt
   ```

2. Запустите тесты с помощью команды:
   ```bash
   python -m unittest test_cars.py
   ```

   Или через основное меню программы:
   ```
   Выберите, что хотите сделать:
   [1] Выбрать пункт меню
   [2] Запустить тесты
   ```

   Выберите пункт `[2] Запустить тесты`.

---

### **Структура тестов**

- **`setUpClass`**:
  - Создаёт тестовый XML-файл (`test_cars.xml`) перед запуском всех тестов.
  - Файл содержит данные о трёх автомобилях:
    - Ford Mustang 2015 года, цена 30000 USD.
    - Toyota Hilux 2018 года, цена 25000 USD.
    - Ford Focus 2015 года, цена 20000 USD.

- **`tearDownClass`**:
  - Удаляет тестовый XML-файл после завершения всех тестов.

- **Тестовые функции**:
  - Каждая функция тестирует одну из основных функций программы, используя данные из `test_cars.xml`.

---

### **Пример вывода тестов**

При успешном выполнении тестов вы увидите следующий вывод:

```
.....
----------------------------------------------------------------------
Ran 4 tests in 0.001s

OK
```

Если тесты не пройдены, вы увидите сообщения об ошибках с указанием, что пошло не так.

---

### **Примечания**

- Тесты используют отдельный файл `test_cars.xml`, чтобы не зависеть от основного файла `cars.xml`.

---

## Зависимости

- [httpx](https://www.python-httpx.org/): Библиотека для выполнения HTTP-запросов.
- **`unittest`**: Встроенная библиотека Python для написания и запуска тестов.

---

## Автор и контакты

- Роман ([X0L1fe](https://github.com/X0L1fe)) Лифанов
- Telegram: [@Inrigt](t.me/Inrigt)
- E-mail: [lighttolight228@gmail.com](mailto:lighttolight228@gmail)